!function(){"use strict";angular.module("youtube-player",[])}(),function(){"use strict";function e(e,t){return{restrict:"E",templateUrl:"/src/views/youtube/video.view.html",controller:"YouTubeController",controllerAs:"vm",scope:{videoid:"@",height:"@",width:"@",currentTime:"@"},link:function(n,r,i,o){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(a,u);var c,s=r.children()[0].getElementsByClassName("player")[0];e.whenLoaded().then(function(){c=new YT.Player(s,{playerVars:{autoplay:0,html5:1,theme:"light",modesbranding:0,color:"white",iv_load_policy:3,showinfo:0,controls:0},height:n.height,width:n.width,videoId:n.videoid,scenes:n.scenes,events:{onReady:function(e){var r={duration:c.getDuration()};n.$apply(function(){n.$emit(t.PLAYER_READY,r)})},onStateChange:function(e){var r={message:"",player:c};switch(e.data){case YT.PlayerState.PLAYING:r.message="PLAYING";break;case YT.PlayerState.ENDED:r.message="ENDED";break;case YT.PlayerState.UNSTARTED:r.message="NOT PLAYING";break;case YT.PlayerState.PAUSED:r.message="PAUSED"}n.$apply(function(){n.$emit(t.STATUS_CHANGE,r)})}}})}),n.$watch("height + width",function(e,t){e!=t&&c.setSize(n.width,n.height)}),n.$watch("videoid",function(e,t){e!=t&&c.cueVideoById(n.videoid)}),n.$watch("currentTime",function(e,t){e!=t&&null!==e&&c.seekTo(e)}),n.$on(t.STOP,function(){c.stopVideo(),n.currentTime=0}),n.$on(t.PLAY,function(){c.playVideo(),n.currentTime=null}),n.$on(t.PAUSE,function(){c.pauseVideo(),n.currentTime=c.getCurrentTime()}),n.$on(t.MOVE,function(e,t){n.currentTime=t.currentTime})}}}angular.module("youtube-player").constant("YT_event",{STOP:0,PLAY:1,PAUSE:2,MOVE:3,STATUS_CHANGE:4,PLAYER_READY:5}).directive("youtube",e)}(),function(){"use strict";function e(e,t,n){function r(t,n){n?e.$broadcast(t,n):e.$broadcast(t)}function i(e){var t="progress-bar progress-bar-info"===e.target.className?e.target.parentNode:e.target,i=e.offsetX/t.offsetWidth*a.duration;a.progress=i/a.duration*100,r(n.MOVE,{currentTime:i})}function o(e){null!==a.currentTime&&(a.progress=a.currentTime/a.duration*100),"PLAYING"===a.playerStatus?a.interval=t(function(){a.progress=e.getCurrentTime()/a.duration*100},500):angular.isDefined(a.interval)&&(t.cancel(a.interval),a.interval=void 0)}var a=this;a.progress=0,a.duration=0,a.interval=void 0,a.YT_event=n,a.playerStatus="NOT PLAYING",a.currentTime=0,a.move=i,a.sendControlEvent=r,e.$on(n.STATUS_CHANGE,function(e,t){var n=t.player;a.playerStatus=t.message,a.currentTime=n.getCurrentTime(),o(n)}),e.$on(n.PLAYER_READY,function(e,t){a.duration=t.duration})}angular.module("youtube-player").controller("YouTubeController",e),e.$inject=["$scope","$interval","YT_event"]}();